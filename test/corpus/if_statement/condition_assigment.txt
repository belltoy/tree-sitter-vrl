==========================
Conditional assignment
==========================

# result: {
#    "object": {
#       "x": { "boolean": true, "undefined": true },
#       "y": { "bytes": true, "undefined": true }
#    }
# }

. = {}
_result = if true {
   .x = true
} else {
   .y = "hi"
}
type_def(.)

--------------------------

(program
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (assignment
    left: (assign_target
      (query
        (event)))
    right: (term
      (object)))
  (assignment
    left: (assign_target
      (ident))
    right: (if_statement
      condition: (predicate
        (term
          (boolean)))
      (block
        (assignment
          left: (assign_target
            (query
              (event)
              (path
                field: (field))))
          right: (term
            (boolean))))
      (block
        (assignment
          left: (assign_target
            (query
              (event)
              (path
                field: (field))))
          right: (term
            (string))))))
  (term
    (function_call
      (ident)
      arguments: (argument
        (term
          (query
            (event)))))))
